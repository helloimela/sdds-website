<Content-Header [categoryTitle]='parent' pageTitle='{{content.title}}' [url]='content.url'></Content-Header>
<!-- <h1 class='page-title'>{{content.title}}</h1> -->
<div *ngIf="content.url !== 'home'" class="nav sdds-container-push-fluid">
  <div class="sdds-row">
    <ul id='page-tabs' class='no-padding sdds-col-xlg-16 sdds-col-md-8 sdds-col-sm-4' role='tablist' *ngIf='content.showTabs'>
      <li class='nav-item' *ngFor='let pagePart of content.pageStructure; let index = index'>
        <a [ngClass]='("nav-link sdds-headline-06 " + (index === 0 && tabActive ? "active" : "") +(pagePart.active ? "" : "disabled"))'
          data-toggle='tab' routerLinkActive="active"
          [routerLink]="content.url + '/' + (pagePart.title | generateTabUrl)">{{pagePart.title}}</a>
      </li>
    </ul>
  </div>
</div>

<router-outlet></router-outlet>

<!-- Landing page -->
<div *ngIf="content.url === 'home'" class="tab-content landing-page">
  <Landing-Page [page]="tabContent.pageContent[0].content"></Landing-Page>
</div>

<div *ngIf="content.url !== 'home'" class="tab-content sdds-container-push">
  <div class="sdds-row">

    <div class="tab-pane show active" *ngIf="tabContent.length > 1 || tabContent!==undefined ">
      <ng-container *ngFor='let item of tabContent.pageContent'>

        <ng-container *ngFor="let section of item.content.section">

          <!-- Template for one column article on parent level -->
          <ng-template [ngIf]="section.__typename === 'ComponentContentPluginOneColumn'">
            <div class="no-padding sdds-col-xlg-9 sdds-col-lg-8 sdds-col-sm-4">
              <h5 *ngIf='section.Title' [innerHTML]='section.Title | markdown | keepHtml'></h5>
              <p [innerHTML]='section.Text | markdown | keepHtml'></p>
            </div>
          </ng-template>

          <!-- Template for Overview page -->
          <ng-template [ngIf]="section.__typename === 'ComponentContentPluginOverviewList'">
            <div class="sdds-col-xlg-9 sdds-col-lg-8 sdds-col-sm-4"> 
              <p class="lead" [innerHTML]='section.description | markdown | keepHtml'></p>
            </div>
            <section style="margin-top: 12.5rem;" class="sdds-col-xlg-16">
              <h1 style="margin-bottom: 8rem;">Overview</h1>
                <div class="row">
                  <div class="col-lg-4 col-md-6 col-xl-3 col-sm-12 col-xs-12 mb-5 d-flex" *ngFor="let sub of content.submenus | sortASC; index as i;">
                    <a [routerLink]="sub.url" class="card">
                      <div class="card-body">
                        <img alt="{{sub.title}}" src="{{sub.thumbnail.url}}" *ngIf="sub.thumbnail" />
                        <h4>{{sub.title}}</h4>
                      </div>
                    </a>
                  </div>
                </div>
              </section>

          </ng-template>

             <!-- Multiple columns-->
             <ng-template [ngIf]="section.__typename === 'ComponentContentPluginTwoColumnsImages'">
              <div class="no-padding sdds-col-xlg-16 sdds-col-md-8 sdds-col-sm-4">
                <h4 *ngIf='section.Title' [innerHTML]='section.Title | markdown | keepHtml' [id]='section.Title | generateTabUrl'></h4>
              </div>
  
              <ng-container *ngIf="section.Images">
                <ng-container *ngFor="let image of section.Images; let index=index">
                  <div [ngClass]="('no-padding sdds-images sdds-col-sm-4 ' + (image.size=='Medium' ? 'sdds-col-md-4 sdds-col-xlg-6' : '') + (image.size=='Small' ? 'sdds-col-md-4 sdds-col-lg-3 sdds-col-xlg-4':'') + (image.size=='Large' ? 'sdds-col-xlg-12 sdds-col-md-8':'') + (image.size=='Xlarge' ? 'sdds-col-xlg-16 sdds-col-md-8':''))">
                    <figure>
                      <img *ngIf='image.image[0].url' [ngClass]="{'negative' : image.negative }" [src]="image.image[0].url" alt='{{image.alternate}}'/>
                      <figcaption *ngIf='image.label' class="sdds-detail-02" >
                        <strong>{{image.label}}</strong>
                      </figcaption>
                      <figcaption *ngIf='image.caption' class="sdds-detail-02">
                        <span>{{image.caption}}</span>
                      </figcaption>
                    </figure>
                  </div>
                <ng-container *ngIf="image.size==='Small' && (index+1) % 3 === 0">
                  <div class="line-break"></div>
                </ng-container>
              </ng-container>
  
              </ng-container>
              <div class="line-break"></div>
              <!-- If Cards -->
              <ng-container *ngIf="section.linkCards">
                <div *ngFor="let card of section.linkCards" class="no-padding sdds-col-sm-4 sdds-col-md-8 sdds-col-lg-5 sdds-col-xlg-5">
                  <div class="cards" (click)="clickCard(card.url)">
                    <p class="sdds-headline-06 sdds-text-blue-300">{{card.title}}</p>
                    <p class="sdds-headline-06 sdds-text-blue-900">
                      {{card.description}}
                      <span *ngIf="card.info" class="sdds-headline-06 sdds-text-blue-300">{{card.info}}</span>
                    </p>
                    <p *ngIf="card.detail" class="card-detail sdds-detail-03 sdds-text-grey-900">
                      {{card.detail}}
                    </p>
                    <span class="card-link" *ngIf="card.type == 'download'"><c-icon name='scania-save'></c-icon></span>
                    <span [ngClass]="('card-link ' + (card.type))" *ngIf="card.type == 'linkInternal' || card.type =='linkExternal'"><c-icon name='scania-arrow'></c-icon></span>
                  </div>
                </div>
  
              </ng-container>
              <div class="line-break"></div>
              <!-- If Dos and Donts -->
              <ng-container *ngIf="section.dosAndDonts">
                <div *ngFor="let item of section.dosAndDonts" class="no-padding sdds-col-sm-4 sdds-col-md-4 sdds-col-lg-4 sdds-col-xlg-4 sdds-col-xxlg-4">
                  <div [ngClass]="('do-dont '+(item.type))">
                    <img [src]="item.image.url"/>
                    <span class="check-mark"></span>
                  </div>
                  <p *ngIf="item.type == 'Do'" class="sdds-headline-07 sdds-text-green-500">Do</p>
                  <p *ngIf="item.type == 'Dont'" class="sdds-headline-07 sdds-text-red-500">Don't</p>
                  <p class="sdds-detail-02">{{item.description}}</p>
                </div>
              </ng-container>
  
            </ng-template>
  

        </ng-container>

      </ng-container>

    </div>

  </div>

</div>